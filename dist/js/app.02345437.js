(function(e){function t(t){for(var o,i,a=t[0],u=t[1],f=t[2],s=0,l=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);d&&d(t);while(l.length)l.shift()();return c.push.apply(c,f||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,i=1;i<n.length;i++){var a=n[i];0!==r[a]&&(o=!1)}o&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var o={},i={app:0},r={app:0},c=[];function a(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-1b647f7d":"a17a7b98","chunk-4cf163a6":"5a829d77","chunk-2e0d0c33":"dc65e87e","chunk-434eca5d":"cd55f981","chunk-3395bc1b":"aedb4dec","chunk-61749935":"43191ddf","chunk-789379ac":"a8b129bf","chunk-a84e6e0e":"7b051c48","chunk-8203f3e0":"d864d17a"}[e]+".js"}function u(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-1b647f7d":1,"chunk-2e0d0c33":1,"chunk-434eca5d":1,"chunk-61749935":1,"chunk-789379ac":1,"chunk-a84e6e0e":1,"chunk-8203f3e0":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-1b647f7d":"6e9a5a3e","chunk-4cf163a6":"31d6cfe0","chunk-2e0d0c33":"7cb7b292","chunk-434eca5d":"cfddf8b1","chunk-3395bc1b":"31d6cfe0","chunk-61749935":"e1792df3","chunk-789379ac":"fad89263","chunk-a84e6e0e":"9a4325a5","chunk-8203f3e0":"ba6fe474"}[e]+".css",r=u.p+o,c=document.getElementsByTagName("link"),a=0;a<c.length;a++){var f=c[a],s=f.getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===o||s===r))return t()}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){f=l[a],s=f.getAttribute("data-href");if(s===o||s===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete i[e],d.parentNode.removeChild(d),n(c)},d.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){i[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var c=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=c);var f,s=document.createElement("script");s.charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.src=a(e);var l=new Error;f=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}r[e]=void 0}};var d=setTimeout((function(){f({type:"timeout",target:s})}),12e4);s.onerror=s.onload=f,document.head.appendChild(s)}return Promise.all(t)},u.m=e,u.c=o,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)u.d(n,o,function(t){return e[t]}.bind(null,o));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var f=window["webpackJsonp"]=window["webpackJsonp"]||[],s=f.push.bind(f);f.push=t,f=f.slice();for(var l=0;l<f.length;l++)t(f[l]);var d=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01aa":function(e,t,n){"use strict";n("e34d")},"3d0e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o,i=n("7a23");function r(e,t,n,o,r,c){var a=Object(i["y"])("router-view");return Object(i["q"])(),Object(i["e"])("div",null,[Object(i["g"])(a,{key:c.activeDate})])}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("html");o=window.innerWidth/25,o>20&&(o=20),e.style.fontSize=o+"px"}));var c={computed:{activeDate:function(){return new Date}}};n("01aa");c.render=r;var a=c,u=(n("d3b7"),n("6c02")),f=[{path:"/",redirect:"/store"},{path:"/ebook",component:function(){return Promise.all([n.e("chunk-4cf163a6"),n.e("chunk-2e0d0c33"),n.e("chunk-434eca5d")]).then(n.bind(null,"55a5"))},children:[{path:":fileName",component:function(){return Promise.all([n.e("chunk-4cf163a6"),n.e("chunk-2e0d0c33")]).then(n.bind(null,"5158"))}}]},{path:"/store",component:function(){return n.e("chunk-8203f3e0").then(n.bind(null,"3e63"))},redirect:"/store/shelf",children:[{path:"home",component:function(){return Promise.all([n.e("chunk-4cf163a6"),n.e("chunk-3395bc1b"),n.e("chunk-61749935")]).then(n.bind(null,"7b10"))}},{path:"detail",component:function(){return Promise.all([n.e("chunk-4cf163a6"),n.e("chunk-3395bc1b"),n.e("chunk-a84e6e0e")]).then(n.bind(null,"b9bd"))}},{path:"shelf",component:function(){return Promise.all([n.e("chunk-4cf163a6"),n.e("chunk-3395bc1b"),n.e("chunk-789379ac")]).then(n.bind(null,"48e0"))}},{path:"category",component:function(){return n.e("chunk-1b647f7d").then(n.bind(null,"ae3e"))}}]}],s=Object(u["a"])({history:Object(u["b"])(),routes:f}),l=s,d=n("5502"),h=n("e8ec"),b={state:{book:null,baseUrl:"http://localhost:3000/",fileName:"",cover:null,author:null,bookAvailable:!1,ifTitleAndMenuVisiable:!1,ifSettingVisible:-1,ifSettingFontFamilyVisible:!1,defaultFontSize:"16px",defaultFontFamily:"Default",defaultTheme:"Default",progress:0,section:0,metadata:null,navItems:null,tabHeight:0,offsetY:0,htmlFontSize:"10px",ifBookmark:!1,ifReload:!0},mutations:{SET_FILENAME:function(e,t){e.fileName=t},TOGGLE_TITLEANDMENUVISIABLE:function(e,t){e.ifTitleAndMenuVisiable=!t&&!e.ifTitleAndMenuVisiable,e.ifSettingVisible=-1},SET_SETTINGVISIBLE:function(e,t){e.ifSettingVisible===t?e.ifSettingVisible=-1:e.ifSettingVisible=t},SET_DEFAULTFONTSIZE:function(e,t){e.defaultFontSize=t},SET_BOOK:function(e,t){e.book=t},SET_DEFAULTFONTFAMILY:function(e,t){e.defaultFontFamily=t},SET_IFSETTINGFONTVISIBLE:function(e,t){e.ifSettingFontFamilyVisible=t},SET_DEFAULTTHEME:function(e,t){e.defaultTheme=t},SET_BOOKAVAIABLE:function(e,t){e.bookAvailable=t},SET_PROGRESS:function(e,t){e.progress=t},SET_SECTION:function(e,t){e.section=t,Object(h["r"])(e.fileName,t)},SET_COVER:function(e,t){e.cover=t},SET_AUTHOR:function(e,t){e.author=t},SET_METADATA:function(e,t){e.metadata=t},SET_NAVIGATION:function(e,t){e.navItems=t},SET_TABHEIGHT:function(e,t){e.tabHeight=t},SET_OFFSETY:function(e,t){e.offsetY=t},SET_HTMLFONTSIZE:function(e,t){e.htmlFontSize=t},SET_IFBOOKMARK:function(e,t){e.ifBookmark=t},SET_IFRELOAD:function(e,t){e.ifReload=t}},actions:{},getters:{}},m={state:{flapCardVisible:!1,isEditMode:!1,shelfList:[],shelfSelected:[],shelfTitleVisible:!0,ifTickVisible:!1,shelfBkIndex:-1,dragTargetIndex:-1,dragSourceIndex:-1,testList:[],categoryData:-1,ifCategoryVisible:!1,ifCategoryTitleEdit:!1,homeOffSetY:-1,ifClickNotRealize:!1,textNotRealize:"该功能暂时未实现"},mutations:{SET_FLAP_CARD_VISIBLE:function(e,t){e.flapCardVisible=t},SET_EDIT_MODE:function(e,t){e.isEditMode="undefined"!==typeof t?t:!e.isEditMode},SET_SHELF_LIST:function(e,t){e.shelfList=t},SET_SHELF_SELECTED:function(e,t){e.shelfSelected=t},setIfTickVisible:function(e,t){e.ifTickVisible=t},setShelfBkIndex:function(e,t){e.shelfBkIndex=t},setDragSourceIndex:function(e,t){e.dragSourceIndex=t},setDragTargetIndex:function(e,t){e.dragTargetIndex=t},setTestList:function(e,t){e.testList=t},setCategoryData:function(e,t){e.categoryData=t},setIfCategoryVisible:function(e,t){e.ifCategoryVisible=t},setIfCategoryTitleEdit:function(e,t){e.ifCategoryTitleEdit=t},setHomeOffSetY:function(e,t){e.homeOffSetY=t},setIfClickNotRealize:function(e,t){e.ifClickNotRealize=t}},actions:{},getters:{}},S=Object(d["a"])({state:{},mutations:{},actions:{},getters:{book:function(e){return e.ebook.book},baseUrl:function(e){return e.ebook.baseUrl},fileName:function(e){return e.ebook.fileName},author:function(e){return e.ebook.author},ifTitleAndMenuVisiable:function(e){return e.ebook.ifTitleAndMenuVisiable},ifSettingVisible:function(e){return e.ebook.ifSettingVisible},defaultFontSize:function(e){return e.ebook.defaultFontSize},defaultFontFamily:function(e){return e.ebook.defaultFontFamily},ifSettingFontFamilyVisible:function(e){return e.ebook.ifSettingFontFamilyVisible},defaultTheme:function(e){return e.ebook.defaultTheme},bookAvailable:function(e){return e.ebook.bookAvailable},progress:function(e){return e.ebook.progress},cover:function(e){return e.ebook.cover},navItems:function(e){return e.ebook.navItems},metadata:function(e){return e.ebook.metadata},tabHeight:function(e){return e.ebook.tabHeight},section:function(e){return e.ebook.section},offsetY:function(e){return e.ebook.offsetY},htmlFontSize:function(e){return e.ebook.htmlFontSize},ifBookmark:function(e){return e.ebook.ifBookmark},bookmarks:function(e){return e.ebook.bookmarks},ifReload:function(e){return e.ebook.ifReload},flapCardVisible:function(e){return e.store.flapCardVisible},isEditMode:function(e){return e.store.isEditMode},shelfList:function(e){return e.store.shelfList},shelfSelected:function(e){return e.store.shelfSelected},shelfTitleVisible:function(e){return e.store.shelfTitleVisible},ifTickVisible:function(e){return e.store.ifTickVisible},shelfBkIndex:function(e){return e.store.shelfBkIndex},dragTargetIndex:function(e){return e.store.dragTargetIndex},dragSourceIndex:function(e){return e.store.dragSourceIndex},testList:function(e){return e.store.testList},categoryData:function(e){return e.store.categoryData},ifCategoryVisible:function(e){return e.store.ifCategoryVisible},ifCategoryTitleEdit:function(e){return e.store.ifCategoryTitleEdit},homeOffSetY:function(e){return e.store.homeOffSetY},ifClickNotRealize:function(e){return e.store.ifClickNotRealize},textNotRealize:function(e){return e.store.textNotRealize}},modules:{ebook:b,store:m}}),T=(n("45fc"),n("ac1f"),n("5319"),n("498a"),n("5530")),p=n("5de6"),E={computed:Object(T["a"])(Object(T["a"])({},Object(d["b"])(["baseUrl","fileName","ifTitleAndMenuVisiable","ifSettingVisible","defaultFontSize","defaultFontFamily","book","ifSettingFontFamilyVisible","defaultTheme","bookAvailable","progress","section","cover","author","metadata","navItems","offsetY","htmlFontSize","ifBookmark","ifReload"])),{},{themeList:function(){return Object(p["f"])()},getSectionName:function(){return this.section?this.navItems[this.section].label:""}}),methods:Object(T["a"])(Object(T["a"])({},Object(d["c"])(["SET_FILENAME","TOGGLE_TITLEANDMENUVISIABLE","SET_SETTINGVISIBLE","SET_DEFAULTFONTSIZE","SET_BOOK","SET_IFSETTINGFONTVISIBLE","SET_DEFAULTFONTFAMILY","SET_DEFAULTTHEME","SET_BOOKAVAIABLE","SET_PROGRESS","SET_SECTION","SET_COVER","SET_HTMLFONTSIZE","SET_AUTHOR","SET_METADATA","SET_IFBOOKMARK","SET_NAVIGATION","SET_OFFSETY","SET_IFRELOAD"])),{},{initGlobalCss:function(){var e="".concat("http://121.36.70.55/Style","/theme/theme_default.css");switch(this.defaultTheme){case"Default":e="".concat("http://121.36.70.55/Style","/theme/theme_default.css");break;case"Eye":e="".concat("http://121.36.70.55/Style","/theme/theme_eye.css");break;case"Gold":e="".concat("http://121.36.70.55/Style","/theme/theme_gold.css");break;case"Night":e="".concat("http://121.36.70.55/Style","/theme/theme_night.css");break;default:e="".concat("http://121.36.70.55/Style","/theme/theme_default.css")}Object(p["c"])(e)},refreshLocation:function(){var e=this.book.rendition.currentLocation();if(e&&e.start){this.SET_SECTION(e.start.index);var t=e.start.cfi,n=this.book.locations.percentageFromCfi(t);Object(h["o"])(n),this.SET_PROGRESS(Math.floor(100*n)),Object(h["n"])(this.fileName,t);var o=Object(h["b"])(this.fileName);if(o){var i=o.some((function(e){return e.cfi===t}));i?this.SET_IFBOOKMARK(!0):this.SET_IFBOOKMARK(!1)}}},displays:function(e,t){var n=this;e?this.book.rendition.display(e).then((function(){n.refreshLocation(),t&&t()})):this.book.rendition.display().then((function(){n.refreshLocation(),t&&t()}))},getTimeByMinites:function(){var e=Object(h["g"])(this.fileName);return e?Math.ceil(e/60):0},getHTMLFontSize:function(){var e=document.querySelector("html");this.SET_HTMLFONTSIZE(e.style.fontSize),console.log("html-font-size: ",this.htmlFontSize)},fname:function(e){return e.replace(/.*_/g,"").replace(/([A-Z])/g," $1").trim()},categoryToChinese:function(e){if(e)switch(e){case 1:return"计算机科学";case 2:return"社会科学";case 3:return"经济学";case 4:return"教育学";case 5:return"基础工程";case 6:return"环境学";case 7:return"地质学";case 8:return"历史学";case 9:return"法律";case 10:return"生活科学";case 11:return"文学";case 12:return"生物医学";case 13:return"业务";case 14:return"地球科学";case 15:return"材料科学";case 16:return"数学";case 17:return"公共卫生";case 18:return"哲学";case 19:return"物理";case 20:return"国际政治";case 21:return"心理学";case 22:return"统计"}}})},g=(n("99af"),n("4de4"),{computed:Object(T["a"])(Object(T["a"])({},Object(d["b"])(["flapCardVisible","isEditMode","shelfList","shelfSelected","shelfTitleVisible","ifTickVisible","shelfBkIndex","dragSourceIndex","dragTargetIndex","testList","ifCategoryVisible","categoryData","ifCategoryTitleEdit","homeOffSetY","ifClickNotRealize"])),{},{Height:function(){var e=7*(window.innerWidth/3-2*parseFloat(this.htmlFontSize))/5;return e+"px"}}),methods:Object(T["a"])(Object(T["a"])({},Object(d["c"])(["SET_FLAP_CARD_VISIBLE","SET_EDIT_MODE","SET_SHELF_LIST","SET_SHELF_SELECTED","setIfTickVisible","setShelfBkIndex","setDragSourceIndex","setDragTargetIndex","setTestList","setIfCategoryVisible","setCategoryData","setIfCategoryTitleEdit","setHomeOffSetY","setIfClickNotRealize"])),{},{showBookDetail:function(e,t){console.log("跳转到指定图书的详情页：".concat(e)),this.$router.push({path:"/store/detail",query:{filename:e,category:t}})},showEbook:function(e,t){console.log("跳转到指定图书的渲染：".concat(e)),this.$router.push({path:"/ebook/".concat(t,"|").concat(e)})},lang:function(e){if(e)switch(e){case"en":return"英语";case"zh":return"中文";default:return"中文"}},back:function(){this.$router.go(-1)},addToBookShelf:function(e){var t=this.shelfList;t.push(e),this.SET_SHELF_LIST(t),Object(h["j"])(this.shelfList)},refreshBookShelf:function(){var e=Object(h["a"])();this.SET_SHELF_LIST(e)},refreshLocalStorage:function(e){this.SET_SHELF_LIST(e),Object(h["j"])(e)},removeFromBookShelf:function(e){var t=this.shelfList.filter((function(t){return t.title!==e}));this.SET_SHELF_LIST(t),Object(h["j"])(t)},clearBookShelf:function(){console.log("执行了clearBookShelf方法，将itemlist push 了 id -1"),this.SET_SHELF_LIST([{id:"-1",type:"3",content:null}]),Object(h["j"])(this.shelfList)},ifAddIsExit:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?(t=Object(h["a"])(),e=!t.some((function(e){return null===e.content&&3==e.type&&-1==e.id}))):e=!t.some((function(e){return null===e.content&&3==e.type&&-1==e.id})),e&&t.push({id:"-1",type:"3",content:null}),this.SET_SHELF_LIST(t),Object(h["j"])(t),t}})}),k=(n("3d0e"),n("8190"),n("c860"),Object(i["d"])(a));k.use(S).use(l),k.mixin(E),k.mixin(g),k.mount("#app")},"5de6":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l}));n("99af"),n("4160"),n("d81d"),n("159b");var o=n("2909");function i(e){var t=window.innerWidth>500?500:window.innerWidth;return e*(t/375)}var r=[{fontSize:"14px"},{fontSize:"16px"},{fontSize:"18px"},{fontSize:"20px"},{fontSize:"22px"}],c=[{fontFamily:"Default"},{fontFamily:"Consolas"},{fontFamily:"Days One"},{fontFamily:"Montserrate"},{fontFamily:"Tangerina"}];function a(){return[{alias:"默认",name:"Default",style:{body:{color:"#4c5059",background:"#cecece","padding-top":"".concat(i(30),"px!important"),"padding-bottom":"".concat(i(30),"px!important")}}},{alias:"雅致",name:"Gold",style:{body:{color:"#5c5b56",background:"#c6c2b6","padding-top":"".concat(i(30),"px!important"),"padding-bottom":"".concat(i(30),"px!important")}}},{alias:"护眼",name:"Eye",style:{body:{color:"#404c42",background:"#a9c1a9","padding-top":"".concat(i(30),"px!important"),"padding-bottom":"".concat(i(30),"px!important")}}},{alias:"夜晚",name:"Night",style:{body:{color:"#cecece",background:"#000000","padding-top":"".concat(i(30),"px!important"),"padding-bottom":"".concat(i(30),"px!important")}}}]}function u(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}function f(e){for(var t=document.getElementsByTagName("link"),n=t.length;n>=0;n--){var o=t[n];o&&o.getAttribute("href")&&o.getAttribute("href")===e&&o.parentNode.removeChild(o)}}function s(){var e=["".concat("http://121.36.70.55/Style","/style/theme/theme_default.css"),"".concat("http://121.36.70.55/Style","/style/theme/theme_eye.css"),"".concat("http://121.36.70.55/Style","/style/theme/theme_gold.css"),"".concat("http://121.36.70.55/Style","/style/theme/theme_night.css")];e.forEach((function(e){f(e)}))}function l(e){var t;return(t=[]).concat.apply(t,Object(o["a"])(e.map((function(e){var t;return(t=[]).concat.apply(t,[e].concat(Object(o["a"])(l(e.subitems))))}))))}},8190:function(e,t,n){},c860:function(e,t,n){},e34d:function(e,t,n){},e8ec:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"i",(function(){return b})),n.d(t,"s",(function(){return m})),n.d(t,"e",(function(){return S})),n.d(t,"n",(function(){return T})),n.d(t,"g",(function(){return p})),n.d(t,"p",(function(){return E})),n.d(t,"r",(function(){return g})),n.d(t,"b",(function(){return k})),n.d(t,"k",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"o",(function(){return I})),n.d(t,"a",(function(){return _})),n.d(t,"j",(function(){return v})),n.d(t,"h",(function(){return F})),n.d(t,"q",(function(){return L}));var o=n("b738"),i=n.n(o),r=new i.a;function c(e,t){return r.set(e,t)}function a(e){return r.get(e)}function u(e,t,n){var o=a("".concat(e,"-info"));o||(o={}),o[t]=n,c("".concat(e,"-info"),o)}function f(e,t){var n=a("".concat(e,"-info"));return n?n[t]:null}function s(e){return f(e,"fontFamily")}function l(e,t){return u(e,"fontFamily",t)}function d(e){return f(e,"fontSize")}function h(e,t){return u(e,"fontSize",t)}function b(e){return f(e,"theme")}function m(e,t){u(e,"theme",t)}function S(e){return f(e,"location")}function T(e,t){u(e,"location",t)}function p(e){return f(e,"time")}function E(e,t){u(e,"time",t)}function g(e,t){u(e,"section",t)}function k(e){return f(e,"bookmark")}function y(e,t){u(e,"bookmark",t)}function O(e){return console.log(e),f(e,"progress")}function I(e,t){u(e,"progress",t)}function _(){return a("bookshelf")||[]}function v(e){c("bookshelf",e)}function F(){return a("reminder")}function L(e){c("reminder",e)}}});
//# sourceMappingURL=app.02345437.js.map
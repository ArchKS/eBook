(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-434eca5d"],{"0c06":function(e,t,c){},"0e4b":function(e,t,c){"use strict";c("3fd4")},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"13d5":function(e,t,c){"use strict";var n=c("23e7"),i=c("d58f").left,o=c("a640"),s=c("ae40"),r=c("2d00"),a=c("605d"),l=o("reduce"),b=s("reduce",{1:0}),d=!a&&r>79&&r<83;n({target:"Array",proto:!0,forced:!l||!b||d},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1764:function(e,t,c){"use strict";c("b7e3")},"20b5":function(e,t,c){"use strict";c("eae3")},"232f":function(e,t,c){"use strict";c("4959")},"2cf43":function(e,t,c){"use strict";var n=c("7a23"),i=Object(n["J"])("data-v-3dfa55ee"),o=i((function(e,t,c,i,o,s){return Object(n["q"])(),Object(n["e"])("div",{class:["scroll",{noScroll:c.ifNoScroll}],ref:"scrollWrapper",onScrollPassive:t[1]||(t[1]=function(){return s.handleScroll&&s.handleScroll.apply(s,arguments)})},[Object(n["x"])(e.$slots,"default")],34)})),s=(c("a9e3"),{props:{top:{type:Number,default:0},bottom:{type:Number,default:0},ifNoScroll:{type:Boolean,default:!1}},methods:{handleScroll:function(e){var t=e.target.scrollTop||window.pageYOffset||document.body.scrollTop;this.setHomeOffSetY(t)},refresh:function(){if(this.$refs.scrollWrapper){var e=window.innerHeight-(this.top+this.bottom)*parseInt(this.htmlFontSize)+"px";this.$refs.scrollWrapper.style.height=e,this.$refs.scrollWrapper.addEventListener("scroll",this.handleScroll)}}},mounted:function(){this.getHTMLFontSize(),this.refresh()},watch:{top:function(e){this.refresh()}}});c("0e4b");s.render=o,s.__scopeId="data-v-3dfa55ee";t["a"]=s},"2e71":function(e,t,c){"use strict";c("f534")},"37b1":function(e,t,c){},3960:function(e,t,c){},"3fd4":function(e,t,c){},"45d2":function(e,t,c){},4959:function(e,t,c){},"4bb2":function(e,t,c){"use strict";c("893b")},"4e82":function(e,t,c){"use strict";c("e8ff")},"4f3b":function(e,t,c){"use strict";c("b4ad")},"512b":function(e,t,c){"use strict";c("afc6")},"55a5":function(t,c,n){"use strict";n.r(c);var i=n("7a23"),o=Object(i["J"])("data-v-77c3e6bf");Object(i["t"])("data-v-77c3e6bf");var s={class:"ebook",ref:"ebook"};Object(i["r"])();var r=o((function(e,t,c,n,o,r){var a=Object(i["y"])("ebook-header"),l=Object(i["y"])("ebook-title"),b=Object(i["y"])("ebook-reader"),d=Object(i["y"])("ebook-menu"),f=Object(i["y"])("font-fmaily-setting"),u=Object(i["y"])("ebook-theme-setting"),h=Object(i["y"])("ebook-progress-setting"),p=Object(i["y"])("ebook-slide"),O=Object(i["y"])("ebook-bookmark"),j=Object(i["y"])("ebook-footer");return Object(i["q"])(),Object(i["e"])("div",s,[Object(i["g"])(a),Object(i["g"])(l),Object(i["g"])(b),Object(i["g"])(d),Object(i["g"])(f),Object(i["g"])(u),Object(i["g"])(h),Object(i["g"])(p),Object(i["g"])(O),Object(i["g"])(j)],512)})),a=Object(i["J"])("data-v-5dd835e1");Object(i["t"])("data-v-5dd835e1");var l={class:"title-wrapper"},b={class:"left"},d={class:"right"},f=Object(i["g"])("span",{class:"icon-shelf"},null,-1);Object(i["r"])();var u=a((function(e,t,c,n,o,s){return Object(i["G"])((Object(i["q"])(),Object(i["e"])("div",l,[Object(i["g"])("div",b,[Object(i["g"])("span",{class:"icon-back",onClick:t[1]||(t[1]=function(){return e.back&&e.back.apply(e,arguments)})})]),Object(i["g"])("div",d,[Object(i["g"])("div",{class:"icon-wrapper",onClick:t[2]||(t[2]=function(){return s.toShelf&&s.toShelf.apply(s,arguments)})},[f])])],512)),[[i["E"],e.ifTitleAndMenuVisiable]])})),h={methods:{toShelf:function(){this.$router.push({path:"/store/shelf"})}}};n("232f");h.render=u,h.__scopeId="data-v-5dd835e1";var p=h,O=Object(i["J"])("data-v-9b7e7c34");Object(i["t"])("data-v-9b7e7c34");var j={class:"menu-wrapper"},g={class:"icon-wrapper"},v={class:"icon-wrapper"},k={class:"icon-wrapper"},m={class:"icon-wrapper"};Object(i["r"])();var y=O((function(e,t,c,n,o,s){var r=Object(i["y"])("ebook-font-setting");return Object(i["G"])((Object(i["q"])(),Object(i["e"])("div",j,[Object(i["g"])("div",g,[Object(i["g"])("span",{onClick:t[1]||(t[1]=function(e){return s.menuSetting(0)}),class:"icon-menu"})]),Object(i["g"])("div",v,[Object(i["g"])("span",{onClick:t[2]||(t[2]=function(e){return s.menuSetting(1)}),class:"icon-progress"})]),Object(i["g"])("div",k,[Object(i["g"])("span",{onClick:t[3]||(t[3]=function(e){return s.menuSetting(2)}),class:"icon-bright"})]),Object(i["g"])("div",m,[Object(i["g"])("span",{onClick:t[4]||(t[4]=function(e){return s.menuSetting(3)}),class:"icon-A"})]),Object(i["g"])(r)],512)),[[i["E"],e.ifTitleAndMenuVisiable]])})),S=Object(i["J"])("data-v-622e667e");Object(i["t"])("data-v-622e667e");var T={class:"setting-wrapper"},w={class:"setting-font-size"},E={class:"point"},I=Object(i["g"])("div",{class:"small-point"},null,-1),x=Object(i["g"])("div",{class:"line"},null,-1),_={class:"setting-font-family"},F=Object(i["g"])("div",{class:"font-family-icon"},">",-1);Object(i["r"])();var N=S((function(e,t,c,n,o,s){return Object(i["G"])((Object(i["q"])(),Object(i["e"])("div",T,[Object(i["g"])("div",w,[Object(i["g"])("div",{class:"preview",style:{fontSize:o.fontSizeList[0].fontSize}}," A ",4),(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(o.fontSizeList,(function(t,c){return Object(i["q"])(),Object(i["e"])("div",{class:"select",key:c},[Object(i["g"])("div",{class:"point-wrapper",onClick:function(e){return s.setFontSize(t)}},[Object(i["G"])(Object(i["g"])("div",E,[I],512),[[i["E"],e.defaultFontSize===t.fontSize]])],8,["onClick"]),x])})),128)),Object(i["g"])("div",{class:"preview",style:{fontSize:o.fontSizeList[o.fontSizeList.length-1].fontSize}}," A ",4)]),Object(i["g"])("div",_,[Object(i["g"])("div",{class:"font-family-wrapper",onClick:t[1]||(t[1]=function(){return s.setFontFamily&&s.setFontFamily.apply(s,arguments)})},Object(i["B"])(e.defaultFontFamily),1),F])],512)),[[i["E"],e.ifTitleAndMenuVisiable&&3===e.ifSettingVisible]])})),C=n("5de6"),B=n("e8ec"),A={data:function(){return{fontSizeList:C["b"]}},methods:{setFontSize:function(e){this.SET_DEFAULTFONTSIZE(e.fontSize),this.book.rendition.themes.fontSize(this.defaultFontSize),Object(B["m"])(this.fileName,e.fontSize)},setFontFamily:function(){this.SET_IFSETTINGFONTVISIBLE(!0)}},mounted:function(){}};n("4bb2");A.render=N,A.__scopeId="data-v-622e667e";var q=A,L={methods:{menuSetting:function(e){this.SET_SETTINGVISIBLE(e)}},components:{EbookFontSetting:q}};n("4f3b");L.render=y,L.__scopeId="data-v-9b7e7c34";var V=L,M=n("5158"),z=Object(i["J"])("data-v-4e306dc0");Object(i["t"])("data-v-4e306dc0");var G={class:"ebook-popup-list"},P={class:"set-font-family-title"},J=Object(i["g"])("span",{class:"icon-down2"},null,-1),$=Object(i["g"])("div",{class:"title-text"}," 选择字体 ",-1),R={class:"font-family-list"},H={class:"font-family-checked"},D=Object(i["g"])("span",{class:"icon-check"},null,-1);Object(i["r"])();var U=z((function(e,t,c,n,o,s){return Object(i["G"])((Object(i["q"])(),Object(i["e"])("div",G,[Object(i["g"])("div",P,[Object(i["g"])("div",{class:"title-icon",onClick:t[1]||(t[1]=function(){return s.hide&&s.hide.apply(s,arguments)})},[J]),$]),(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(o.font_family_list,(function(t,c){return Object(i["q"])(),Object(i["e"])("div",{class:["set-font-family-wrapper",{selected:e.defaultFontFamily===t.fontFamily}],key:c,onClick:function(e){return s.select(t.fontFamily)}},[Object(i["g"])("div",R,Object(i["B"])(t.fontFamily),1),Object(i["G"])(Object(i["g"])("div",H,[D],512),[[i["E"],e.defaultFontFamily===t.fontFamily]])],10,["onClick"])})),128))],512)),[[i["E"],e.ifTitleAndMenuVisiable&&e.ifSettingFontFamilyVisible]])})),W={data:function(){return{font_family_list:C["a"]}},methods:{hide:function(){this.SET_IFSETTINGFONTVISIBLE(!1)},select:function(e){this.SET_DEFAULTFONTFAMILY(e),Object(B["l"])(this.fileName,e),"Default"===e?this.book.rendition.themes.font("Times New Roman"):this.book.rendition.themes.font(this.defaultFontFamily),console.log(this.defaultFontFamily)}},mounted:function(){}};n("fcca");W.render=U,W.__scopeId="data-v-4e306dc0";var Y=W,K=(n("b0c0"),Object(i["J"])("data-v-1f48702d"));Object(i["t"])("data-v-1f48702d");var X={class:"setting-wrapper"},Z={class:"setting-theme"};Object(i["r"])();var Q=K((function(e,t,c,n,o,s){return Object(i["G"])((Object(i["q"])(),Object(i["e"])("div",X,[Object(i["g"])("div",Z,[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(e.themeList,(function(t,c){return Object(i["q"])(),Object(i["e"])("div",{class:"setting-theme-item",key:c,onClick:function(e){return s.setTheme(c)}},[Object(i["g"])("div",{class:["preview",{selected:t.name===e.defaultTheme}],style:{background:t.style.body.background}},null,6),Object(i["g"])("div",{class:["text",{selected:t.name===e.defaultTheme}]},Object(i["B"])(t.alias),3)],8,["onClick"])})),128))])],512)),[[i["E"],e.ifTitleAndMenuVisiable&&2===e.ifSettingVisible]])})),ee={methods:{setTheme:function(e){var t=this.themeList[e];this.SET_DEFAULTTHEME(t.name),this.book.rendition.themes.select(this.defaultTheme),console.log(this.defaultTheme),Object(C["e"])(),this.initGlobalCss(),Object(B["s"])(this.fileName,t.name)}}};n("a25c");ee.render=Q,ee.__scopeId="data-v-1f48702d";var te=ee,ce=Object(i["J"])("data-v-46fbff04");Object(i["t"])("data-v-46fbff04");var ne={class:"setting-wrapper"},ie={class:"setting-progress"},oe={class:"read-time-wrapper"},se={class:"read-time-text"},re={class:"progress-wrapper"},ae=Object(i["g"])("span",{class:"icon-back"},null,-1),le=Object(i["g"])("span",{class:"icon-forward"},null,-1),be={class:"text-wrapper"},de={class:"progress-section-text"};Object(i["r"])();var fe=ce((function(e,t,c,n,o,s){return Object(i["G"])((Object(i["q"])(),Object(i["e"])("div",ne,[Object(i["g"])("div",ie,[Object(i["g"])("div",oe,[Object(i["g"])("span",se,Object(i["B"])(s.getTimeText),1)]),Object(i["g"])("div",re,[Object(i["g"])("div",{class:"progress-icon-wrapper",onClick:t[1]||(t[1]=function(e){return s.prevSection()})},[ae]),Object(i["g"])("input",{class:"progress",type:"range",max:"100",min:"0",step:"1",onChange:t[2]||(t[2]=function(e){return s.onProgressChange(e.target.value)}),onInput:t[3]||(t[3]=function(e){return s.onProgressInput(e.target.value)}),value:e.progress,disabled:!e.bookAvailable,ref:"progress"},null,40,["value","disabled"]),Object(i["g"])("div",{class:"progress-icon-wrapper",onClick:t[4]||(t[4]=function(e){return s.nextSection()})},[le])]),Object(i["g"])("div",be,[Object(i["g"])("span",de,Object(i["B"])(e.getSectionName),1),Object(i["g"])("span",null,"("+Object(i["B"])(e.bookAvailable?e.progress+"%":"加载中...")+")",1)])])],512)),[[i["E"],e.ifTitleAndMenuVisiable&&1===e.ifSettingVisible]])})),ue={methods:{onProgressChange:function(e){this.SET_PROGRESS(e),this.displayProgress(),this.updateProgressBg(),this.refreshLocation()},onProgressInput:function(e){this.SET_PROGRESS(e),this.displayProgress(),this.updateProgressBg(),this.refreshLocation()},displayProgress:function(){var e=this.book.locations.cfiFromPercentage(this.progress/100);this.displays(e)},updateProgressBg:function(){this.$refs.progress.style.backgroundSize="".concat(this.progress,"% 100%")},prevSection:function(){this.section>0&&this.bookAvailable&&(this.SET_SECTION(this.section-1),this.displaySection())},nextSection:function(){if(this.section<this.book.spine.length-1&&this.bookAvailable){var e=this.section+1;this.SET_SECTION(e),this.displaySection()}},displaySection:function(){var e=this.book.section(this.section);e&&e.href&&this.displays(e.href)}},updated:function(){this.updateProgressBg()},computed:{getTimeText:function(){var e=this.getTimeByMinites();return"已读".concat(e,"分钟")}}};n("dc12");ue.render=fe,ue.__scopeId="data-v-46fbff04";var he=ue,pe=Object(i["J"])("data-v-ab6588bc");Object(i["t"])("data-v-ab6588bc");var Oe={key:0,class:"slide-content-wrapper"},je={key:0,class:"content"},ge={key:0,class:"content-page-wrapper"},ve={class:"content-page"},ke={class:"content-page-tab"},me={key:1,class:"content-empty"};Object(i["r"])();var ye=pe((function(e,t,c,n,o,s){var r=Object(i["y"])("ebook-loading");return Object(i["q"])(),Object(i["e"])(i["b"],{name:"fade"},{default:pe((function(){return[e.ifTitleAndMenuVisiable&&0===e.ifSettingVisible?(Object(i["q"])(),Object(i["e"])("div",Oe,[Object(i["g"])(i["b"],{name:"slide"},{default:pe((function(){return[0===e.ifSettingVisible?(Object(i["q"])(),Object(i["e"])("div",je,[e.bookAvailable?(Object(i["q"])(),Object(i["e"])("div",ge,[Object(i["g"])("div",ve,[(Object(i["q"])(),Object(i["e"])(Object(i["z"])(1===o.currentTab?o.content:o.bookmark)))]),Object(i["g"])("div",ke,[Object(i["g"])("div",{class:["content-page-tab-item",{selected:1===o.currentTab}],onClick:t[1]||(t[1]=function(e){return s.selectTab(1)})}," 目录 ",2),Object(i["g"])("div",{class:["content-page-tab-item",{selected:2===o.currentTab}],onClick:t[2]||(t[2]=function(e){return s.selectTab(2)})}," 书签 ",2)])])):(Object(i["q"])(),Object(i["e"])("div",me,[Object(i["g"])(r)]))])):Object(i["f"])("",!0)]})),_:1}),Object(i["g"])("div",{class:"content-bg",onClick:t[3]||(t[3]=function(e){return s.hide()})})])):Object(i["f"])("",!0)]})),_:1})})),Se=(n("ac1f"),n("841c"),Object(i["J"])("data-v-6b466f62"));Object(i["t"])("data-v-6b466f62");var Te={class:"ebook-slide-contents"},we={class:"slide-contents-search-wrapper"},Ee={class:"slide-contents-search-input-wrapper"},Ie=Object(i["g"])("div",{class:"slide-contents-search-icon"},[Object(i["g"])("span",{class:"icon-search"})],-1),xe={class:"slide-contents-book-wrapper"},_e={class:"slide-contents-book-img-wrapper"},Fe={class:"slide-contents-book-info-wrapper"},Ne={class:"slide-contents-book-title"},Ce={class:"slide-contents-book-author"},Be={class:"slide-contents-book-progress-wrapper"},Ae={class:"slide-contents-book-progress"},qe={class:"progress"},Le=Object(i["g"])("span",{class:"progress-text"},"已读",-1),Ve={class:"slide-contents-book-time"},Me={class:"slide-contents-item-page"};Object(i["r"])();var ze=Se((function(e,t,c,n,o,s){var r=Object(i["y"])("scroll2"),a=Object(i["y"])("scroll");return Object(i["q"])(),Object(i["e"])("div",Te,[Object(i["g"])("div",we,[Object(i["g"])("div",Ee,[Ie,Object(i["G"])(Object(i["g"])("input",{type:"text",class:"slide-contents-search-input",placeholder:"搜索全书内容",onClick:t[1]||(t[1]=function(e){return s.showSearch()}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.searchText=e}),onKeyup:t[3]||(t[3]=Object(i["H"])(Object(i["I"])((function(e){return s.search()}),["exact"]),["enter"]))},null,544),[[i["D"],o.searchText]])]),o.searchVisible?(Object(i["q"])(),Object(i["e"])("div",{key:0,class:"slide-contents-search-cancel",onClick:t[4]||(t[4]=function(e){return s.hideSearch()})}," 取消 ")):Object(i["f"])("",!0)]),Object(i["g"])("div",xe,[Object(i["g"])("div",_e,[Object(i["g"])("img",{src:e.cover,class:"slide-contents-book-img"},null,8,["src"])]),Object(i["g"])("div",Fe,[Object(i["g"])("div",Ne,Object(i["B"])(e.metadata.title),1),Object(i["g"])("div",Ce,Object(i["B"])(e.metadata.creator),1)]),Object(i["g"])("div",Be,[Object(i["g"])("div",Ae,[Object(i["g"])("span",qe,Object(i["B"])(e.progress+"%"),1),Le]),Object(i["g"])("div",Ve," 已读"+Object(i["B"])(e.getTimeByMinites())+"分钟 ",1)])]),o.searchVisible?Object(i["f"])("",!0):(Object(i["q"])(),Object(i["e"])(r,{key:0,class:"slide-contents-list",top:3,bottom:12},{default:Se((function(){return[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(e.navItems,(function(t,c){return Object(i["q"])(),Object(i["e"])("div",{class:"slide-contents-item",key:c},[Object(i["g"])("span",{class:["slide-contents-item-label",{selected:e.section===c}],style:s.contentItemStyle(t),onClick:function(e){return s.displayContent(t.href)}},Object(i["B"])(t.label),15,["onClick"]),Object(i["g"])("span",Me,Object(i["B"])(t.page),1)])})),128))]})),_:1})),o.searchVisible?(Object(i["q"])(),Object(i["e"])(a,{key:1,class:"slide-search-list",style:{height:o.height+"px"},height:o.height},{default:Se((function(){return[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(o.searchList,(function(e,t){return Object(i["q"])(),Object(i["e"])("div",{class:"slide-search-item",key:t,innerHTML:e.excerpt,onClick:function(t){return s.displayContent(e.cfi,!0)}},null,8,["innerHTML","onClick"])})),128))]})),_:1},8,["style","height"])):Object(i["f"])("",!0)])})),Ge=(n("99af"),n("7db0"),n("a15b"),n("d81d"),n("13d5"),n("d3b7"),n("3ca3"),n("5319"),n("1276"),n("ddb0"),Object(i["J"])("data-v-35cc0533"));Object(i["t"])("data-v-35cc0533");var Pe={class:"outbar"},Je={class:"scroll-wrapper",ref:"scrollWrapper"};Object(i["r"])();var $e=Ge((function(e,t,c,n,o,s){return Object(i["q"])(),Object(i["e"])("div",Pe,[Object(i["g"])("div",Je,[Object(i["x"])(e.$slots,"default")],512)])})),Re=(n("a9e3"),{props:{height:{type:Number}},watch:{height:function(e){this.$refs.scrollWrapper.style.height=e+"px"}}});n("4e82");Re.render=$e,Re.__scopeId="data-v-35cc0533";var He=Re,De=n("2cf43"),Ue={components:{Scroll:He,Scroll2:De["a"]},data:function(){return{searchVisible:!1,searchList:[{cfi:"",excerpt:""}],searchText:"",height:0}},methods:{doSearch:function(e){var t=this;return Promise.all(this.book.spine.spineItems.map((function(c){return c.load(t.book.load.bind(t.book)).then(c.find.bind(c,e)).finally(c.unload.bind(c))}))).then((function(e){return Promise.resolve([].concat.apply([],e))}))},search:function(){var e=this;this.searchText&&this.searchText.length>0&&this.doSearch(this.searchText).then((function(t){e.searchList=t.map((function(t){t.excerpt=t.excerpt.replace(e.searchText,'<span class="content-search-text">'.concat(e.searchText,"</span>")),t.excerpt=t.excerpt.replace(/\./g,""),console.log(t.excerpt);var c=/\s{1,}/g;return t.excerpt=t.excerpt.split(c).join(" "),t}))}))},hideSearch:function(){this.searchVisible=!1},showSearch:function(){this.searchVisible=!0},displayContent:function(e){var t=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.displays(e,(function(){t.TOGGLE_TITLEANDMENUVISIABLE(),c&&t.book.rendition.annotations.highlight(e)}))},contentItemStyle:function(e){return{marginLeft:"".concat(.3*e.level,"rem")}},computedCataloguHeight:function(){var e=[".content-page-tab",".slide-contents-search-wrapper",".slide-contents-book-wrapper"],t=112.5;this.height=window.innerHeight+t-e.reduce((function(e,t){var c=document.querySelector(t),n=getComputedStyle(c).height,i=2*parseInt(n);return e+=i,e}),0)}},mounted:function(){this.computedCataloguHeight()}};n("6bbe");Ue.render=ze,Ue.__scopeId="data-v-6b466f62";var We=Ue,Ye=Object(i["J"])("data-v-3068c827");Object(i["t"])("data-v-3068c827");var Ke={class:"ebook-slide-bookmark"},Xe={class:"slide-bookmark-title"},Ze={class:"slide-bookmark-item-icon"};Object(i["r"])();var Qe=Ye((function(e,t,c,n,o,s){var r=Object(i["y"])("scroll");return Object(i["q"])(),Object(i["e"])("div",Ke,[Object(i["g"])("div",Xe," 书签 · "+Object(i["B"])(o.bookmark?o.bookmark.length:0),1),Object(i["g"])(r,{class:"slide-bookmark-list",style:{height:o.height+"px"},height:o.height},{default:Ye((function(){return[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(o.bookmark,(function(e,t){return Object(i["q"])(),Object(i["e"])("div",{class:"slide-bookmark-item",key:t},[Object(i["g"])("div",Ze,[Object(i["g"])("div",{class:"icon-bookmark",onClick:function(t){return s.delBookmark(e.cfi)}},null,8,["onClick"])]),Object(i["g"])("div",{class:"slide-bookmark-item-text",onClick:function(t){return s.displayBookmark(e.cfi)}},Object(i["B"])(e.text),9,["onClick"])])})),128))]})),_:1},8,["style","height"])])})),et=(n("4de4"),{data:function(){return{bookmark:0,height:0}},methods:{computedCataloguHeight:function(){var e=[".content-page-tab",".slide-contents-search-wrapper",".slide-contents-book-wrapper"],t=112.5;this.height=window.innerHeight+t-e.reduce((function(e,t){var c=document.querySelector(t),n=getComputedStyle(c).height,i=2*parseInt(n);return e+=i,e}),0)},displayBookmark:function(e){var t=this;console.log("dodisplay ?",e),this.displays(e,(function(){t.TOGGLE_TITLEANDMENUVISIABLE()}))},delBookmark:function(t){this.bookmarks=Object(B["b"])(this.fileName),this.bookmark=this.bookmark.filter((function(e){return e.cfi!==t})),Object(B["k"])(this.fileName),e.preventDefault(),e.stopPropagation()}},created:function(){this.bookmark=Object(B["b"])(this.fileName)}});n("512b");et.render=Qe,et.__scopeId="data-v-3068c827";var tt=et,ct=n("a97c"),nt={data:function(){return{currentTab:1,content:We,bookmark:tt}},methods:{hide:function(){this.SET_SETTINGVISIBLE(-1)},selectTab:function(e){this.currentTab=e}},components:{EbookLoading:ct["a"],EbookBookContent:We,EbookSlideBookmark:tt}};n("7ea3");nt.render=ye,nt.__scopeId="data-v-ab6588bc";var it=nt,ot=Object(i["J"])("data-v-b0264ce6");Object(i["t"])("data-v-b0264ce6");var st={class:"ebook-bookmark",ref:"bookmark"},rt={class:"ebook-bookmark-text-wrapper"},at={class:"ebook-bookmark-down-wrapper"},lt={class:"icon-down",ref:"iconDown"},bt={class:"ebook-bookmark-text"};Object(i["r"])();var dt=ot((function(e,t,c,n,o,s){var r=Object(i["y"])("bookmark");return Object(i["q"])(),Object(i["e"])("div",st,[Object(i["g"])("div",rt,[Object(i["g"])("div",at,[Object(i["g"])("span",lt,null,512)]),Object(i["g"])("div",bt,Object(i["B"])(o.text),1)]),Object(i["g"])("div",{class:"ebook-bookmark-icon-wrapper",style:o.isFixed?s.styleFixed:{}},[Object(i["g"])(r,{color:o.color},null,8,["color"])],4)],512)})),ft=(n("25f0"),Object(i["J"])("data-v-6e6e3b47")),ut=ft((function(e,t,c,n,o,s){return Object(i["q"])(),Object(i["e"])("div",{class:"bookmark",style:s.style},null,4)})),ht={props:{color:String},computed:{style:function(){return this.color?{borderColor:"".concat(this.color," ").concat(this.color," transparent ").concat(this.color)}:{}}}};n("2e71");ht.render=ut,ht.__scopeId="data-v-6e6e3b47";var pt=ht,Ot="#346cbc",jt="#fff",gt={data:function(){return{text:"下拉添加书签",color:jt,isFixed:!1,bookmark:null,nowstartCfi:null}},computed:{criticalVal1:function(){return 1*parseInt(this.htmlFontSize)},criticalVal2:function(){return 2*parseInt(this.htmlFontSize)},styleFixed:function(){return{position:"fixed",top:0,right:"".concat((window.innerWidth-this.$refs.bookmark.clientWidth)/2,"px")}}},watch:{offsetY:function(e){0===e?this.restore():e>this.criticalVal1&&e<this.criticalVal2?this.beforeThreshold():e>this.criticalVal2&&this.beforeHeight()},ifBookmark:function(e){e?(this.color=Ot,this.isFixed=!0):(this.color=jt,this.isFixed=!1)}},methods:{beforeHeight:function(){},beforeThreshold:function(){this.ifBookmark?(this.text="松手删除书签",this.isFixed=!1,this.color=jt):(this.text="松手添加书签",this.isFixed=!0,this.color=Ot),this.$refs.iconDown.style.transform="rotate(180deg)",this.$refs.iconDown.style.transition="all .2s linear"},restore:function(){this.$refs.iconDown.style.transform="rotate(0deg)",this.isFixed?(this.SET_IFBOOKMARK(!0),this.addBookMark()):(this.SET_IFBOOKMARK(!1),this.delBookMark()),this.ifBookmark?this.text="下拉删除书签":this.text="下拉添加书签"},addBookMark:function(){var e=this;this.bookmark=Object(B["b"])(this.fileName)||[];var t=this.book.rendition.currentLocation();this.nowstartCfi=t.start.cfi;var c=t.start.cfi.replace(/!.*/g,""),n=t.start.cfi.replace(/.*!/g,"").replace(/\)$/,""),i=t.end.cfi.replace(/.*!/g,"").replace(/\)$/,""),o="".concat(c,"!,").concat(n,",").concat(i,")");this.book.getRange(o).then((function(c){var n=c.toString().replace(/\s\s/g,"");e.bookmark.push({cfi:t.start.cfi,text:n}),Object(B["k"])(e.fileName,e.bookmark)}))},delBookMark:function(){var e=this.book.rendition.currentLocation(),t=e.start.cfi;this.bookmark=Object(B["b"])(this.fileName),this.bookmark&&(this.bookmark=this.bookmark.filter((function(e){return e.cfi!==t})),Object(B["k"])(this.fileName,this.bookmark))}},components:{bookmark:pt},mounted:function(){}};n("7483");gt.render=dt,gt.__scopeId="data-v-b0264ce6";var vt=gt,kt=Object(i["J"])("data-v-27f4afa7");Object(i["t"])("data-v-27f4afa7");var mt={class:"ebook-header"},yt={class:"ebook-header-text"};Object(i["r"])();var St=kt((function(e,t){return Object(i["q"])(),Object(i["e"])("div",mt,[Object(i["g"])("span",yt,Object(i["B"])(e.getSectionName),1)])}));n("5ebe");const Tt={};Tt.render=St,Tt.__scopeId="data-v-27f4afa7";var wt=Tt,Et=Object(i["J"])("data-v-c265e962");Object(i["t"])("data-v-c265e962");var It={class:"ebook-footer"},xt={class:"ebook-footer-text"};Object(i["r"])();var _t=Et((function(e,t,c,n,o,s){return Object(i["q"])(),Object(i["e"])("div",It,[Object(i["g"])("span",xt,Object(i["B"])(e.progress+"%"),1)])})),Ft={mounted:function(){var e=Object(B["f"])(this.fileName);e&&this.SET_PROGRESS(e)}};n("1764");Ft.render=_t,Ft.__scopeId="data-v-c265e962";var Nt=Ft,Ct={data:function(){return{timer:null}},components:{EbookReader:M["default"],EbookMenu:V,EbookTitle:p,FontFmailySetting:Y,EbookThemeSetting:te,EbookSlide:it,EbookProgressSetting:he,EbookBookmark:vt,EbookHeader:wt,EbookFooter:Nt},methods:{loopReadTime:function(){var e=this,t=Object(B["g"])(this.fileName);t||(t=0),this.timer=setInterval((function(){t++,t%30===0&&Object(B["p"])(e.fileName,t)}),1e3)},restore:function(){var e=this;this.$refs.ebook.style.top=0,this.$refs.ebook.style.transition="all .2s linear",setTimeout((function(){e.$refs.ebook.style.transition=""}),200)},move:function(e){this.$refs.ebook.style.top=e+"px"}},mounted:function(){this.loopReadTime(),this.getHTMLFontSize()},beforeUnmount:function(){clearInterval(this.timer)},watch:{offsetY:function(e){!this.ifTitleAndMenuVisiable&&this.bookAvailable&&(e>0?this.move(e):0===e&&this.restore())}}};n("e991");Ct.render=r,Ct.__scopeId="data-v-77c3e6bf";c["default"]=Ct},"5ebe":function(e,t,c){"use strict";c("45d2")},"6bbe":function(e,t,c){"use strict";c("f403")},7156:function(e,t,c){var n=c("861d"),i=c("d2bb");e.exports=function(e,t,c){var o,s;return i&&"function"==typeof(o=t.constructor)&&o!==c&&n(s=o.prototype)&&s!==c.prototype&&i(e,s),e}},7483:function(e,t,c){"use strict";c("b2fd")},"7db0":function(e,t,c){"use strict";var n=c("23e7"),i=c("b727").find,o=c("44d2"),s=c("ae40"),r="find",a=!0,l=s(r);r in[]&&Array(1)[r]((function(){a=!1})),n({target:"Array",proto:!0,forced:a||!l},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(r)},"7ea3":function(e,t,c){"use strict";c("3960")},"841c":function(e,t,c){"use strict";var n=c("d784"),i=c("825a"),o=c("1d80"),s=c("129f"),r=c("14c3");n("search",1,(function(e,t,c){return[function(t){var c=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,c):new RegExp(t)[e](String(c))},function(e){var n=c(t,e,this);if(n.done)return n.value;var o=i(e),a=String(this),l=o.lastIndex;s(l,0)||(o.lastIndex=0);var b=r(o,a);return s(o.lastIndex,l)||(o.lastIndex=l),null===b?-1:b.index}]}))},"893b":function(e,t,c){},a25c:function(e,t,c){"use strict";c("0c06")},a97c:function(e,t,c){"use strict";var n=c("7a23"),i=Object(n["J"])("data-v-41e0da83");Object(n["t"])("data-v-41e0da83");var o={class:"spinner"};Object(n["r"])();var s=i((function(e,t,c,i,s,r){return Object(n["q"])(),Object(n["e"])("div",o,[Object(n["g"])("div",{class:"cube1",ref:"color1",style:{backgroundColor:c.color1}},null,4),Object(n["g"])("div",{class:"cube2",ref:"color2",style:{backgroundColor:c.color2}},null,4)])})),r={props:{color1:{type:String,default:"#E0E3DA"},color2:{type:String,default:"#E0E3DA"}}};c("20b5");r.render=s,r.__scopeId="data-v-41e0da83";t["a"]=r},a9e3:function(e,t,c){"use strict";var n=c("83ab"),i=c("da84"),o=c("94ca"),s=c("6eeb"),r=c("5135"),a=c("c6b6"),l=c("7156"),b=c("c04e"),d=c("d039"),f=c("7c73"),u=c("241c").f,h=c("06cf").f,p=c("9bf2").f,O=c("58a8").trim,j="Number",g=i[j],v=g.prototype,k=a(f(v))==j,m=function(e){var t,c,n,i,o,s,r,a,l=b(e,!1);if("string"==typeof l&&l.length>2)if(l=O(l),t=l.charCodeAt(0),43===t||45===t){if(c=l.charCodeAt(2),88===c||120===c)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(o=l.slice(2),s=o.length,r=0;r<s;r++)if(a=o.charCodeAt(r),a<48||a>i)return NaN;return parseInt(o,n)}return+l};if(o(j,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var y,S=function(e){var t=arguments.length<1?0:e,c=this;return c instanceof S&&(k?d((function(){v.valueOf.call(c)})):a(c)!=j)?l(new g(m(t)),c,S):m(t)},T=n?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;T.length>w;w++)r(g,y=T[w])&&!r(S,y)&&p(S,y,h(g,y));S.prototype=v,v.constructor=S,s(i,j,S)}},afc6:function(e,t,c){},b2fd:function(e,t,c){},b4ad:function(e,t,c){},b7e3:function(e,t,c){},c056:function(e,t,c){},d58f:function(e,t,c){var n=c("1c0b"),i=c("7b0b"),o=c("44ad"),s=c("50c4"),r=function(e){return function(t,c,r,a){n(c);var l=i(t),b=o(l),d=s(l.length),f=e?d-1:0,u=e?-1:1;if(r<2)while(1){if(f in b){a=b[f],f+=u;break}if(f+=u,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=u)f in b&&(a=c(a,b[f],f,l));return a}};e.exports={left:r(!1),right:r(!0)}},dc12:function(e,t,c){"use strict";c("e01d")},e01d:function(e,t,c){},e8ff:function(e,t,c){},e991:function(e,t,c){"use strict";c("c056")},eae3:function(e,t,c){},f403:function(e,t,c){},f534:function(e,t,c){},fcca:function(e,t,c){"use strict";c("37b1")}}]);
//# sourceMappingURL=chunk-434eca5d.cd55f981.js.map